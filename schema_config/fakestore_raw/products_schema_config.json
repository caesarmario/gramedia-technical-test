{
  "_meta": {
    "input_path": "data",
    "explode": null,
    "strict": true
  },
  "select": {
    "product_id":   { "path": "id",            "type": "int" },
    "title":        { "path": "title",         "type": "string" },
    "description":  { "path": "description",   "type": "string" },
    "price":        { "path": "price",         "type": "float" },
    "category":     { "path": "category",      "type": "string", "default": "unknown" },
    "image_url":    { "path": "image",         "type": "string" },
    "rating_rate":  { "path": "rating.rate",   "type": "float",  "default": 0.0 },
    "rating_count": { "path": "rating.count",  "type": "int",    "default": 0 }
  },
  "derive": {
    "title_len": { "op": "len", "args": ["title"] }
  },
  "fillna": {
    "description": ""
  },
  "validations": {
    "not_null": ["product_id", "title"],
    "unique":   ["product_id"]
  },
  "order": [
    "product_id", "title", "description", "price", "category",
    "image_url", "rating_rate", "rating_count"
  ]
}
